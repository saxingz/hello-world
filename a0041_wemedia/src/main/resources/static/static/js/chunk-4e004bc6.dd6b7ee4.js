(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4e004bc6"],{"157f":function(a,t,e){"use strict";var r=e("e014"),i=e.n(r);i.a},da01:function(a,t,e){"use strict";e.r(t);var r=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"task-manage"},[e("a-card",{staticClass:"search-card",attrs:{bordered:!1}},[e("div",{staticClass:"table-page-search-wrapper"},[e("a-form",{attrs:{layout:"inline"}},[e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{md:8,sm:24}},[e("a-form-item",{attrs:{label:"频道标题"}},[e("a-input",{attrs:{placeholder:"请输入"},model:{value:a.queryParam.channelTitle,callback:function(t){a.$set(a.queryParam,"channelTitle",t)},expression:"queryParam.channelTitle"}})],1)],1),e("a-col",{attrs:{md:8,sm:24}},[e("a-form-item",{attrs:{label:"视频Id"}},[e("a-input",{attrs:{placeholder:"请输入任务名称"},model:{value:a.queryParam.videoId,callback:function(t){a.$set(a.queryParam,"videoId",t)},expression:"queryParam.videoId"}})],1)],1),e("a-col",{attrs:{md:8,sm:24}},[e("a-form-item",{attrs:{label:"视频标题"}},[e("a-input",{attrs:{placeholder:"请输入任务名称"},model:{value:a.queryParam.videoTitle,callback:function(t){a.$set(a.queryParam,"videoTitle",t)},expression:"queryParam.videoTitle"}})],1)],1),e("a-col",{attrs:{md:8,sm:24}},[e("a-form-item",{attrs:{label:"描述"}},[e("a-input",{attrs:{placeholder:"请输入任务名称"},model:{value:a.queryParam.description,callback:function(t){a.$set(a.queryParam,"description",t)},expression:"queryParam.description"}})],1)],1),e("a-col",{attrs:{md:8,sm:24}},[e("a-form-item",{attrs:{label:"下载状态"}},[e("a-select",{attrs:{placeholder:"请选择下载状态",allowClear:!0},model:{value:a.queryParam.downloadStatus,callback:function(t){a.$set(a.queryParam,"downloadStatus",t)},expression:"queryParam.downloadStatus"}},[e("a-select-option",{attrs:{value:1}},[a._v("已下载")]),e("a-select-option",{attrs:{value:0}},[a._v("未下载")])],1)],1)],1),e("a-col",{attrs:{md:8,sm:24}},[e("a-form-item",{attrs:{label:"重建状态"}},[e("a-select",{attrs:{placeholder:"请选择",allowClear:!0},model:{value:a.queryParam.rebuildStatus,callback:function(t){a.$set(a.queryParam,"rebuildStatus",t)},expression:"queryParam.rebuildStatus"}},[e("a-select-option",{attrs:{value:1}},[a._v("已重建")]),e("a-select-option",{attrs:{value:0}},[a._v("未重建")])],1)],1)],1),e("a-col",{attrs:{md:4,sm:24}},[e("span",{staticClass:"table-page-search-submitButtons"},[e("a-button",{staticStyle:{"margin-right":"8px"},attrs:{type:"primary"},on:{click:a.handleSearch}},[a._v("查询")])],1)])],1)],1)],1)]),e("a-card",{staticClass:"task-list-card",attrs:{bordered:!1}},[e("a-table",{attrs:{scroll:{x:"max-content"},rowKey:function(a){return a.id},dataSource:a.dataList,columns:a.taskTableTitle,pagination:a.pagination},on:{change:a.handlePageChage},scopedSlots:a._u([{key:"publishTime",fn:function(t){return[e("span",[a._v(a._s(a.moment(t).format("YYYY-MM-DD HH:mm:ss")))])]}},{key:"updatedTime",fn:function(t){return[e("span",[a._v(a._s(a.moment(t).format("YYYY-MM-DD HH:mm:ss")))])]}}])})],1)],1)},i=[],s=(e("a4d3"),e("e01a"),e("498a"),e("99af"),e("9efd")),n="/v1/transfer";function l(a,t,e){return Object(s["a"])({url:"".concat(n,"/list?page=").concat(t,"&pageNum=").concat(e),method:"post",data:a})}var o=e("c1df"),d=e.n(o),u=e("2af9"),c={name:"TaskManage",components:{Ellipsis:u["a"]},data:function(){return{logParam:{jobs_type:"",jobs_name:"",status:null,custodian_id:null},dataList:[],selectedRowKeys:[],taskTableTitle:[{title:"ID",dataIndex:"id"},{title:"平台",dataIndex:"platform"},{title:"视频地址",dataIndex:"url"},{title:"发布时间",dataIndex:"publishTime",scopedSlots:{customRender:"publishTime"}}],pagination:{},page:1,pageNum:20,queryParam:{channelTitle:"",videoId:"",videoTitle:"",description:""}}},created:function(){var a={};this.getTransferList(a,this.page,this.pageNum)},methods:{moment:d.a,getTransferList:function(a,t,e){var r=this;l(a,t,e).then((function(a){r.dataList=a.data.records;var i={current:t,pageSize:e,total:a.data.total};r.pagination=i}))},handleSearch:function(){var a={};this.queryParam.channelTitle.trim()&&(a.channelTitle=this.queryParam.channelTitle.trim()),this.queryParam.videoId.trim()&&(a.videoId=this.queryParam.videoId.trim()),this.queryParam.videoTitle.trim()&&(a.videoTitle=this.queryParam.videoTitle.trim()),this.queryParam.description.trim()&&(a.description=this.queryParam.description.trim()),a.downloadStatus=this.queryParam.downloadStatus,a.rebuildStatus=this.queryParam.rebuildStatus,this.getTransferList(a,this.page,this.pageNum)},handleAdd:function(){this.$refs.modal.clearInitialValue(),this.$refs.modal.edit()},handleUpdate:function(a){var t=this;this.$nextTick((function(){t.$refs.modal.editInitialValue(a)})),this.$refs.modal.edit()},handlePageChage:function(a){var t={};this.queryParam.channelId.trim()&&(t.channelId=this.queryParam.channelId.trim()),this.queryParam.channelTitle.trim()&&(t.channelTitle=this.queryParam.channelTitle.trim()),this.getTransferList(t,a.current,this.pageNum)},onCopy:function(){this.$message.success("复制成功")},onError:function(){this.$message.error("复制失败")},handleDownload:function(a){var t={id:a.id};download(t).then((function(a){}))},handleRebuild:function(a){var t={id:a.id};rebuild(t).then((function(a){}))}}},m=c,h=(e("157f"),e("2877")),p=Object(h["a"])(m,r,i,!1,null,"7d04fa9e",null);t["default"]=p.exports},e014:function(a,t,e){}}]);