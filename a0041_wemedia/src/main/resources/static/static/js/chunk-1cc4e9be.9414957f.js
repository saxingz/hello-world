(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1cc4e9be"],{"0b7b":function(t,e,a){var r=a("8f95"),n=a("7463"),o=a("0363"),i=o("iterator");t.exports=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||n[r(t)]}},1316:function(t,e,a){t.exports=a("9cd3")},2616:function(t,e,a){var r=a("0363"),n=a("7463"),o=r("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||i[o]===t)}},"2dc0":function(t,e,a){t.exports=a("588c")},"301f":function(t,e,a){},"471b":function(t,e,a){"use strict";var r=a("194a"),n=a("4fff"),o=a("faaa"),i=a("2616"),s=a("6725"),c=a("6c15"),l=a("0b7b");t.exports=function(t){var e,a,d,u,p,m=n(t),f="function"==typeof this?this:Array,h=arguments.length,v=h>1?arguments[1]:void 0,y=void 0!==v,b=0,g=l(m);if(y&&(v=r(v,h>2?arguments[2]:void 0,2)),void 0==g||f==Array&&i(g))for(e=s(m.length),a=new f(e);e>b;b++)c(a,b,y?v(m[b],b):m[b]);else for(u=g.call(m),p=u.next,a=new f;!(d=p.call(u)).done;b++)c(a,b,y?o(u,v,[d.value,b],!0):d.value);return a.length=b,a}},"484e":function(t,e,a){var r=a("a5eb"),n=a("471b"),o=a("7de7"),i=!o((function(t){Array.from(t)}));r({target:"Array",stat:!0,forced:i},{from:n})},5267:function(t,e,a){"use strict";var r=a("301f"),n=a.n(r);n.a},"588c":function(t,e,a){a("5145"),a("3e47"),t.exports=a("59d7")},"59d7":function(t,e,a){var r=a("8f95"),n=a("0363"),o=a("7463"),i=n("iterator");t.exports=function(t){var e=Object(t);return void 0!==e[i]||"@@iterator"in e||o.hasOwnProperty(r(e))}},"5ab9":function(t,e,a){a("e519");var r=a("764b");t.exports=r.Array.isArray},"74e7":function(t,e,a){t.exports=a("bc59")},"7de7":function(t,e,a){var r=a("0363"),n=r("iterator"),o=!1;try{var i=0,s={next:function(){return{done:!!i++}},return:function(){o=!0}};s[n]=function(){return this},Array.from(s,(function(){throw 2}))}catch(c){}t.exports=function(t,e){if(!e&&!o)return!1;var a=!1;try{var r={};r[n]=function(){return{next:function(){return{done:a=!0}}}},t(r)}catch(c){}return a}},"97b0":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"task-manage"},[a("a-card",{staticClass:"task-list-card",attrs:{bordered:!1}},[a("div",{staticClass:"table-page-search-wrapper"},[a("a-form",{attrs:{layout:"inline"}},[a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"频道标题"}},[a("a-input",{attrs:{placeholder:"请输入频道标题"},on:{blur:t.handleSearch},model:{value:t.queryParam.channelTitle,callback:function(e){t.$set(t.queryParam,"channelTitle",e)},expression:"queryParam.channelTitle"}})],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"视频Id"}},[a("a-input",{attrs:{placeholder:"请输入视频Id"},on:{blur:t.handleSearch},model:{value:t.queryParam.videoId,callback:function(e){t.$set(t.queryParam,"videoId",e)},expression:"queryParam.videoId"}})],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"视频标题"}},[a("a-input",{attrs:{placeholder:"请输入视频标题"},on:{blur:t.handleSearch},model:{value:t.queryParam.videoTitle,callback:function(e){t.$set(t.queryParam,"videoTitle",e)},expression:"queryParam.videoTitle"}})],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"描述"}},[a("a-input",{attrs:{placeholder:"请输入描述"},on:{blur:t.handleSearch},model:{value:t.queryParam.description,callback:function(e){t.$set(t.queryParam,"description",e)},expression:"queryParam.description"}})],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"下载状态"}},[a("a-select",{attrs:{placeholder:"请选择下载状态",allowClear:!0},on:{change:t.handleSearch},model:{value:t.queryParam.downloadStatus,callback:function(e){t.$set(t.queryParam,"downloadStatus",e)},expression:"queryParam.downloadStatus"}},[a("a-select-option",{attrs:{value:1}},[t._v("已下载")]),a("a-select-option",{attrs:{value:0}},[t._v("未下载")])],1)],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("a-form-item",{attrs:{label:"重建状态"}},[a("a-select",{attrs:{placeholder:"请选择重建状态",allowClear:!0},on:{change:t.handleSearch},model:{value:t.queryParam.rebuildStatus,callback:function(e){t.$set(t.queryParam,"rebuildStatus",e)},expression:"queryParam.rebuildStatus"}},[a("a-select-option",{attrs:{value:1}},[t._v("已重建")]),a("a-select-option",{attrs:{value:0}},[t._v("未重建")])],1)],1)],1),a("a-col",{attrs:{md:4,sm:24}},[a("span",{staticClass:"table-page-search-submitButtons"},[t.selectedRowKeys.length?a("a-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],staticStyle:{"margin-right":"8px"},attrs:{type:"primary"},on:{click:t.handleBatchDown}},[t._v("批量下载")]):t._e(),t.selectedRowKeys.length?a("a-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick"}],staticStyle:{"margin-right":"8px"},attrs:{type:"primary"},on:{click:t.handleBatchBuild}},[t._v("批量重建")]):t._e()],1)])],1)],1)],1),a("a-table",{attrs:{scroll:{x:"max-content"},rowKey:function(t){return t.id},rowSelection:{type:"checkbox",selectedRowKeys:t.selectedRowKeys,onChange:t.onSelectChange},dataSource:t.dataList,columns:t.taskTableTitle,pagination:t.pagination},on:{change:t.handlePageChage},scopedSlots:t._u([{key:"platform",fn:function(e){return[a("span",[t._v("哔哩")]),a("a-divider",{attrs:{type:"vertical"}}),a("span",[t._v("喜马")]),a("a-divider",{attrs:{type:"vertical"}}),a("span",[t._v("斗鱼")]),a("a",{staticStyle:{"margin-left":"5px"}},[a("a-icon",{attrs:{type:"setting"}})],1)]}},{key:"videoTitle",fn:function(e){return[a("ellipsis",{attrs:{length:8,tooltip:""}},[t._v(t._s(e))]),a("a",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e,expression:"text",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticStyle:{float:"right"}},[a("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:"copy"}})],1)]}},{key:"thumbnails",fn:function(e){return[a("a",{attrs:{href:e,target:"_blank"}},[t._v("图")])]}},{key:"videoId",fn:function(e){return[a("ellipsis",{attrs:{length:2,tooltip:""}},[t._v(t._s(e))]),a("a",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e,expression:"text",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticStyle:{float:"right"}},[a("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:"copy"}})],1)]}},{key:"description",fn:function(e){return[a("ellipsis",{attrs:{length:8,tooltip:""}},[t._v(t._s(e))]),a("a",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e,expression:"text",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticStyle:{float:"right"}},[a("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:"copy"}})],1)]}},{key:"downloadStatus",fn:function(e,r){return[1===e?a("a",[a("a-icon",{attrs:{type:"check"}})],1):a("a",{attrs:{disabled:r.downClick},on:{click:function(e){return t.handleDownload(r.id)}}},[a("a-icon",{attrs:{type:"cloud-download"}})],1)]}},{key:"rebuildStatus",fn:function(e,r){return[1===e?a("a",[a("a-icon",{attrs:{type:"check"}})],1):a("a",{attrs:{disabled:r.rebuildClick},on:{click:function(e){return t.handleRebuild(r.id)}}},[a("a-icon",{attrs:{type:"redo"}})],1)]}}])})],1)],1)},n=[],o=(a("a4d3"),a("e01a"),a("4de4"),a("a15b"),a("498a"),a("1316")),i=a.n(o);function s(t){if(i()(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}var c=a("a06f"),l=a.n(c),d=a("2dc0"),u=a.n(d);function p(t){if(u()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return l()(t)}function m(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function f(t){return s(t)||p(t)||m()}var h=a("2fa7"),v=(a("8fb1"),a("0c63")),y=(a("99af"),a("9efd")),b="/v1/video";function g(t,e,a){return Object(y["a"])({url:"".concat(b,"/list?page=").concat(e,"&pageNum=").concat(a),method:"post",data:t})}function w(t){return Object(y["a"])({url:"".concat(b,"/download?ids=").concat(t),method:"post"})}function x(t){return Object(y["a"])({url:"".concat(b,"/rebuild?ids=").concat(t),method:"post"})}var S=a("c1df"),k=a.n(S),P=a("2af9"),q=v["a"].createFromIconfontCN({scriptUrl:"//at.alicdn.com/t/font_1333873_359uq5at4h6.js"}),I={name:"TaskManage",components:{IconFont:q,Ellipsis:P["a"]},data:function(){var t;return t={logParam:{jobs_type:"",jobs_name:"",status:null,custodian_id:null},dataList:[],selectedRowKeys:[],taskTableTitle:[{title:"ID",dataIndex:"id"},{title:"发布频道",dataIndex:"platform",scopedSlots:{customRender:"platform"}},{title:"频道标题",dataIndex:"channelTitle"},{title:"视频Id",dataIndex:"videoId",scopedSlots:{customRender:"videoId"}},{title:"视频标题",dataIndex:"videoTitle",scopedSlots:{customRender:"videoTitle"}},{title:"缩略图",dataIndex:"thumbnails",scopedSlots:{customRender:"thumbnails"},align:"center"},{title:"描述",dataIndex:"description",scopedSlots:{customRender:"description"}},{title:"下载状态",dataIndex:"downloadStatus",scopedSlots:{customRender:"downloadStatus"},align:"center"},{title:"重建状态",dataIndex:"rebuildStatus",scopedSlots:{customRender:"rebuildStatus"},align:"center"}],pagination:{},page:1,pageNum:20,queryParam:{channelTitle:"",videoId:"",videoTitle:"",description:""}},Object(h["a"])(t,"selectedRowKeys",[]),Object(h["a"])(t,"selectedRows",[]),Object(h["a"])(t,"dealQueryParam",{}),t},created:function(){var t={};this.dealQueryParam=t,this.getVideoList(t,this.page,this.pageNum)},methods:{moment:k.a,getVideoList:function(t,e,a){var r=this;g(t,e,a).then((function(t){r.dataList=t.data.records;var n={current:e,pageSize:a,total:t.data.total};r.pagination=n}))},handleSearch:function(){var t={};this.queryParam.channelTitle.trim()&&(t.channelTitle=this.queryParam.channelTitle.trim()),this.queryParam.videoId.trim()&&(t.videoId=this.queryParam.videoId.trim()),this.queryParam.videoTitle.trim()&&(t.videoTitle=this.queryParam.videoTitle.trim()),this.queryParam.description.trim()&&(t.description=this.queryParam.description.trim()),t.downloadStatus=this.queryParam.downloadStatus,t.rebuildStatus=this.queryParam.rebuildStatus,this.dealQueryParam=t,this.getVideoList(t,this.page,this.pageNum)},handleAdd:function(){this.$refs.modal.clearInitialValue(),this.$refs.modal.edit()},handleUpdate:function(t){var e=this;this.$nextTick((function(){e.$refs.modal.editInitialValue(t)})),this.$refs.modal.edit()},handlePageChage:function(t){this.getVideoList(this.dealQueryParam,t.current,this.pageNum)},onCopy:function(){this.$message.success("复制成功")},onError:function(){this.$message.error("复制失败")},handleDownload:function(t){var e=f(this.dataList),a=e.filter((function(e){return e.id===t}))[0];a.downClick=!0,this.dataList=e,w(t).then((function(t){}))},handleRebuild:function(t){var e=f(this.dataList),a=e.filter((function(e){return e.id===t}))[0];a.rebuildClick=!0,this.dataList=e,x(t).then((function(t){}))},onSelectChange:function(t){this.selectedRowKeys=t},handleBatchDown:function(){var t=this.selectedRowKeys.join(",");w(t).then((function(t){}))},handleBatchBuild:function(){var t=this.selectedRowKeys.join(",");x(t).then((function(t){}))}}},C=I,_=(a("5267"),a("2877")),T=Object(_["a"])(C,r,n,!1,null,"037975b2",null);e["default"]=T.exports},"9cd3":function(t,e,a){t.exports=a("5ab9")},a06f:function(t,e,a){t.exports=a("74e7")},bc59:function(t,e,a){a("3e47"),a("484e");var r=a("764b");t.exports=r.Array.from},e519:function(t,e,a){var r=a("a5eb"),n=a("6220");r({target:"Array",stat:!0},{isArray:n})},faaa:function(t,e,a){var r=a("6f8d");t.exports=function(t,e,a,n){try{return n?e(r(a)[0],a[1]):e(a)}catch(i){var o=t["return"];throw void 0!==o&&r(o.call(t)),i}}}}]);